Dans le domaine : Définis une interface pour les propriétés.

// Dans le module domaine
public interface PviBusinessPropertiesProvider {
    String getSomeSetting();
    // autres méthodes pour les propriétés nécessaires
}


Dans le module d’exposition : Implémente cette interface et configure-la avec les données du YAML.

// Dans le module d’exposition
@Component
public class PviBusinessPropertiesProviderImpl implements PviBusinessPropertiesProvider {

    private final PviBusinessProperties pviBusinessProperties;

    @Autowired
    public PviBusinessPropertiesProviderImpl(PviBusinessProperties pviBusinessProperties) {
        this.pviBusinessProperties = pviBusinessProperties;
    }

    @Override
    public String getSomeSetting() {
        return pviBusinessProperties.getSomeSetting();
    }
}


Dans le module domaine : Injecte simplement l’interface et utilise-la.

// Dans le module domaine
@Service
public class PviSimulationService {

    private final PviBusinessPropertiesProvider propertiesProvider;

    @Autowired
    public PviSimulationService(PviBusinessPropertiesProvider propertiesProvider) {
        this.propertiesProvider = propertiesProvider;
    }

    // Utilise les propriétés via l’interface
}
